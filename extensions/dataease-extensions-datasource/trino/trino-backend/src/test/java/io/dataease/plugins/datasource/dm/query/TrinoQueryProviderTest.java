package io.dataease.plugins.datasource.dm.query;

//import com.alibaba.fastjson.JSONObject;
import io.dataease.plugins.common.base.domain.ChartViewWithBLOBs;
import io.dataease.plugins.common.base.domain.DatasetTableField;
import io.dataease.plugins.common.base.domain.Datasource;
import io.dataease.plugins.common.dto.chart.ChartViewFieldDTO;
import io.dataease.plugins.common.request.chart.ChartExtFilterRequest;
import junit.framework.TestCase;

import java.util.List;

public class TrinoQueryProviderTest extends TestCase {

    public void testCreateQueryTableWithPage() {
//        TrinoQueryProvider queryProvider = new TrinoQueryProvider();
//
//        String f = "[{\"accuracy\":0,\"checked\":true,\"columnIndex\":12,\"dataeaseName\":\"C_0faea619a3eb6dfca4ced9bbe5bf4c9a\",\"dateFormat\":\"yyyy-MM-dd\",\"dateFormatType\":\"yyyy-MM-dd\",\"deExtractType\":0,\"deType\":1,\"extField\":0,\"groupType\":\"d\",\"id\":\"91c89aeb-67d1-4c95-9981-5ae3276acf55\",\"lastSyncTime\":1701248019601,\"name\":\"publish_time\",\"originName\":\"publish_time\",\"size\":20,\"tableId\":\"5507af05-2a63-443e-92e9-657829cd7d7e\",\"type\":\"varchar(20)\"}]";
//
//        String ds = "{\"configuration\":\"{\\\"initialPoolSize\\\":5,\\\"extraParams\\\":\\\"\\\",\\\"minPoolSize\\\":5,\\\"maxPoolSize\\\":50,\\\"maxIdleTime\\\":30,\\\"acquireIncrement\\\":5,\\\"idleConnectionTestPeriod\\\":5,\\\"connectTimeout\\\":5,\\\"customDriver\\\":\\\"default\\\",\\\"queryTimeout\\\":30,\\\"username\\\":\\\"root\\\",\\\"password\\\":\\\"\\\",\\\"host\\\":\\\"10.1.13.137\\\",\\\"port\\\":\\\"8080\\\",\\\"dataBase\\\":\\\"mysql_metadb\\\",\\\"schema\\\":\\\"demo\\\"}\",\"createBy\":\"admin\",\"createTime\":1701247641235,\"id\":\"b976743d-da88-405d-a5ab-70ae03332d7d\",\"name\":\"trino\",\"status\":\"Success\",\"type\":\"trino\",\"updateTime\":1701247641235}";
//
//        try {
//            String res = queryProvider.createQueryTableWithPage("t_zhihu_answer", JSONObject.parseArray(f, DatasetTableField.class), 1, 1000, 1000, false, JSONObject.parseObject(ds, Datasource.class), null, null);
//            System.out.println(res);
//        } catch (Exception exception) {
//            System.out.println("");
//        }
    }

    public void testGetSQL() {
//        TrinoQueryProvider queryProvider = new TrinoQueryProvider();
//        String xAxis = "[{\"checked\":true,\"columnIndex\":13,\"dataeaseName\":\"C_bb5855f0349346ae0b19eb381f00ab70\",\"datePattern\":\"date_sub\",\"dateStyle\":\"y_M_d\",\"deExtractType\":1,\"deType\":1,\"extField\":0,\"filter\":[],\"groupType\":\"d\",\"id\":\"fb47dcd2-172f-4ac4-a543-0d07a37ad765\",\"lastSyncTime\":1701240862598,\"name\":\"created_time\",\"originName\":\"created_time\",\"sort\":\"none\",\"tableId\":\"f1d128c0-99a3-483d-94ce-52678a2bb54d\",\"type\":\"timestamp(0)\"}]";
//
//        String yAxis = "[{\"chartType\":\"bar\",\"checked\":true,\"columnIndex\":1,\"compareCalc\":{\"custom\":{\"calcType\":\"0\",\"compareTime\":\"\",\"compareTimeRange\":[],\"currentTime\":\"\",\"currentTimeRange\":[],\"field\":\"\",\"timeType\":\"0\"},\"field\":\"\",\"resultData\":\"percent\",\"type\":\"none\"},\"dataeaseName\":\"C_99bea2cd698b56b1a3b8c1701bd51c67\",\"deExtractType\":2,\"deType\":2,\"extField\":0,\"filter\":[],\"groupType\":\"q\",\"id\":\"59ed327c-be1a-4203-94d4-e63440d67868\",\"lastSyncTime\":1701240862598,\"name\":\"pv\",\"originName\":\"pv\",\"sort\":\"none\",\"summary\":\"sum\",\"tableId\":\"f1d128c0-99a3-483d-94ce-52678a2bb54d\",\"type\":\"integer\"}]";
//
//        String extFilterList = "[{\"componentId\":\"25228d40-8e85-11ee-880d-c3a706e0f458\",\"datasetTableField\":{\"accuracy\":0,\"checked\":true,\"columnIndex\":1,\"dataeaseName\":\"C_99bea2cd698b56b1a3b8c1701bd51c67\",\"deExtractType\":2,\"deType\":2,\"extField\":0,\"groupType\":\"q\",\"id\":\"59ed327c-be1a-4203-94d4-e63440d67868\",\"lastSyncTime\":1701240862598,\"name\":\"pv\",\"originName\":\"pv\",\"size\":11,\"tableId\":\"f1d128c0-99a3-483d-94ce-52678a2bb54d\",\"type\":\"integer\"},\"fieldId\":\"59ed327c-be1a-4203-94d4-e63440d67868\",\"isTree\":false,\"operator\":\"eq\",\"parameters\":[],\"value\":[\"1222\"],\"viewIds\":[]}]";
//
//        String ds = "{\"configuration\":\"{\\\"initialPoolSize\\\":5,\\\"extraParams\\\":\\\"\\\",\\\"minPoolSize\\\":5,\\\"maxPoolSize\\\":50,\\\"maxIdleTime\\\":30,\\\"acquireIncrement\\\":5,\\\"idleConnectionTestPeriod\\\":5,\\\"connectTimeout\\\":5,\\\"customDriver\\\":\\\"default\\\",\\\"queryTimeout\\\":30,\\\"username\\\":\\\"root\\\",\\\"password\\\":\\\"\\\",\\\"host\\\":\\\"10.1.13.137\\\",\\\"port\\\":\\\"8080\\\",\\\"dataBase\\\":\\\"mysql_metadb\\\",\\\"schema\\\":\\\"demo\\\"}\",\"createBy\":\"admin\",\"createTime\":1701230179018,\"id\":\"ca390390-9111-4905-b992-333dfa696a06\",\"name\":\"trino\",\"status\":\"Success\",\"type\":\"trino\",\"updateTime\":1701230179018}";
//
//        String view = "{\"chartType\":\"private\",\"createBy\":\"admin\",\"createTime\":1701154409733,\"customAttr\":\"{\\\"color\\\":{\\\"value\\\":\\\"default\\\",\\\"colors\\\":[\\\"#5470c6\\\",\\\"#91cc75\\\",\\\"#fac858\\\",\\\"#ee6666\\\",\\\"#73c0de\\\",\\\"#3ba272\\\",\\\"#fc8452\\\",\\\"#9a60b4\\\",\\\"#ea7ccc\\\"],\\\"alpha\\\":100,\\\"tableHeaderBgColor\\\":\\\"#6D9A49\\\",\\\"tableItemBgColor\\\":\\\"#FFFFFF\\\",\\\"tableHeaderFontColor\\\":\\\"#000000\\\",\\\"tableFontColor\\\":\\\"#000000\\\",\\\"tableStripe\\\":true,\\\"dimensionColor\\\":\\\"#000000\\\",\\\"quotaColor\\\":\\\"#5470c6\\\",\\\"tableBorderColor\\\":\\\"#E6E7E4\\\",\\\"seriesColors\\\":[],\\\"areaBorderColor\\\":\\\"#303133\\\",\\\"gradient\\\":false,\\\"areaBaseColor\\\":\\\"#FFFFFF\\\",\\\"tableScrollBarColor\\\":\\\"rgba(0, 0, 0, 0.15)\\\",\\\"tableScrollBarHoverColor\\\":\\\"rgba(0, 0, 0, 0.4)\\\",\\\"mapStyle\\\":\\\"normal\\\",\\\"mapLineGradient\\\":false,\\\"mapLineSourceColor\\\":\\\"#146C94\\\",\\\"mapLineTargetColor\\\":\\\"#576CBC\\\"},\\\"tableColor\\\":{\\\"value\\\":\\\"default\\\",\\\"colors\\\":[\\\"#5470c6\\\",\\\"#91cc75\\\",\\\"#fac858\\\",\\\"#ee6666\\\",\\\"#73c0de\\\",\\\"#3ba272\\\",\\\"#fc8452\\\",\\\"#9a60b4\\\",\\\"#ea7ccc\\\"],\\\"alpha\\\":100,\\\"tableHeaderBgColor\\\":\\\"#6D9A49\\\",\\\"tableItemBgColor\\\":\\\"#FFFFFF\\\",\\\"tableHeaderFontColor\\\":\\\"#000000\\\",\\\"tableFontColor\\\":\\\"#000000\\\",\\\"tableStripe\\\":true,\\\"dimensionColor\\\":\\\"#000000\\\",\\\"quotaColor\\\":\\\"#5470c6\\\",\\\"tableBorderColor\\\":\\\"#E6E7E4\\\",\\\"seriesColors\\\":[],\\\"areaBorderColor\\\":\\\"#303133\\\",\\\"gradient\\\":false,\\\"areaBaseColor\\\":\\\"#FFFFFF\\\",\\\"tableScrollBarColor\\\":\\\"rgba(0, 0, 0, 0.15)\\\",\\\"tableScrollBarHoverColor\\\":\\\"rgba(0, 0, 0, 0.4)\\\",\\\"mapStyle\\\":\\\"normal\\\",\\\"mapLineGradient\\\":false,\\\"mapLineSourceColor\\\":\\\"#146C94\\\",\\\"mapLineTargetColor\\\":\\\"#576CBC\\\"},\\\"size\\\":{\\\"barDefault\\\":true,\\\"barWidth\\\":40,\\\"barGap\\\":0.4,\\\"lineWidth\\\":2,\\\"lineType\\\":\\\"solid\\\",\\\"lineSymbol\\\":\\\"circle\\\",\\\"lineSymbolSize\\\":4,\\\"lineSmooth\\\":true,\\\"lineArea\\\":true,\\\"pieInnerRadius\\\":0,\\\"pieOuterRadius\\\":80,\\\"pieRoseType\\\":\\\"radius\\\",\\\"pieRoseRadius\\\":5,\\\"funnelWidth\\\":80,\\\"radarShape\\\":\\\"polygon\\\",\\\"radarSize\\\":80,\\\"tableTitleFontSize\\\":12,\\\"tableItemFontSize\\\":12,\\\"tableTitleHeight\\\":36,\\\"tableItemHeight\\\":36,\\\"tablePageSize\\\":\\\"20\\\",\\\"tableColumnMode\\\":\\\"custom\\\",\\\"tableColumnWidth\\\":100,\\\"tableHeaderAlign\\\":\\\"left\\\",\\\"tableItemAlign\\\":\\\"right\\\",\\\"tableAutoBreakLine\\\":false,\\\"tableRowTooltip\\\":{\\\"show\\\":false},\\\"tableColTooltip\\\":{\\\"show\\\":false},\\\"gaugeMinType\\\":\\\"fix\\\",\\\"gaugeMinField\\\":{\\\"id\\\":\\\"\\\",\\\"summary\\\":\\\"\\\"},\\\"gaugeMin\\\":0,\\\"gaugeMaxType\\\":\\\"fix\\\",\\\"gaugeMaxField\\\":{\\\"id\\\":\\\"\\\",\\\"summary\\\":\\\"\\\"},\\\"gaugeMax\\\":100,\\\"gaugeStartAngle\\\":225,\\\"gaugeEndAngle\\\":-45,\\\"gaugeAxisLine\\\":true,\\\"gaugeTickCount\\\":5,\\\"dimensionFontSize\\\":18,\\\"quotaFontSize\\\":18,\\\"spaceSplit\\\":10,\\\"dimensionShow\\\":true,\\\"quotaShow\\\":true,\\\"quotaFontFamily\\\":\\\"Microsoft YaHei\\\",\\\"quotaFontIsBolder\\\":false,\\\"quotaFontIsItalic\\\":false,\\\"quotaLetterSpace\\\":\\\"0\\\",\\\"quotaFontShadow\\\":false,\\\"dimensionFontFamily\\\":\\\"Microsoft YaHei\\\",\\\"dimensionFontIsBolder\\\":false,\\\"dimensionFontIsItalic\\\":false,\\\"dimensionLetterSpace\\\":\\\"0\\\",\\\"dimensionFontShadow\\\":false,\\\"scatterSymbol\\\":\\\"circle\\\",\\\"scatterSymbolSize\\\":20,\\\"treemapWidth\\\":80,\\\"treemapHeight\\\":80,\\\"liquidMax\\\":100,\\\"liquidMaxType\\\":\\\"fix\\\",\\\"liquidMaxField\\\":{\\\"id\\\":\\\"\\\",\\\"summary\\\":\\\"\\\"},\\\"liquidSize\\\":80,\\\"liquidOutlineBorder\\\":4,\\\"liquidOutlineDistance\\\":8,\\\"liquidWaveLength\\\":128,\\\"liquidWaveCount\\\":3,\\\"liquidShape\\\":\\\"circle\\\",\\\"tablePageMode\\\":\\\"page\\\",\\\"symbolOpacity\\\":0.7,\\\"symbolStrokeWidth\\\":2,\\\"showIndex\\\":false,\\\"indexLabel\\\":\\\"序号\\\",\\\"hPosition\\\":\\\"center\\\",\\\"vPosition\\\":\\\"center\\\",\\\"mapPitch\\\":0,\\\"mapLineType\\\":\\\"arc\\\",\\\"mapLineWidth\\\":1,\\\"mapLineAnimate\\\":true,\\\"mapLineAnimateDuration\\\":3,\\\"mapLineAnimateInterval\\\":1,\\\"mapLineAnimateTrailLength\\\":1,\\\"wordSizeRange\\\":[8,32],\\\"wordSpacing\\\":6},\\\"label\\\":{\\\"show\\\":false,\\\"position\\\":\\\"middle\\\",\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":\\\"10\\\",\\\"formatter\\\":\\\"{c}\\\",\\\"gaugeFormatter\\\":\\\"{value}\\\",\\\"labelLine\\\":{\\\"show\\\":true},\\\"gaugeLabelFormatter\\\":{\\\"type\\\":\\\"value\\\",\\\"unit\\\":1,\\\"suffix\\\":\\\"\\\",\\\"decimalCount\\\":2,\\\"thousandSeparator\\\":true},\\\"reserveDecimalCount\\\":2,\\\"labelContent\\\":[\\\"dimension\\\",\\\"proportion\\\"]},\\\"tooltip\\\":{\\\"show\\\":true,\\\"trigger\\\":\\\"item\\\",\\\"confine\\\":true,\\\"textStyle\\\":{\\\"fontSize\\\":\\\"10\\\",\\\"color\\\":\\\"#000000\\\"},\\\"formatter\\\":\\\"\\\",\\\"backgroundColor\\\":\\\"#FFFFFF\\\"},\\\"totalCfg\\\":{\\\"row\\\":{\\\"showGrandTotals\\\":true,\\\"showSubTotals\\\":true,\\\"reverseLayout\\\":false,\\\"reverseSubLayout\\\":false,\\\"label\\\":\\\"总计\\\",\\\"subLabel\\\":\\\"小计\\\",\\\"subTotalsDimensions\\\":[],\\\"calcTotals\\\":{\\\"aggregation\\\":\\\"SUM\\\"},\\\"calcSubTotals\\\":{\\\"aggregation\\\":\\\"SUM\\\"},\\\"totalSort\\\":\\\"none\\\",\\\"totalSortField\\\":\\\"\\\"},\\\"col\\\":{\\\"showGrandTotals\\\":true,\\\"showSubTotals\\\":true,\\\"reverseLayout\\\":false,\\\"reverseSubLayout\\\":false,\\\"label\\\":\\\"总计\\\",\\\"subLabel\\\":\\\"小计\\\",\\\"subTotalsDimensions\\\":[],\\\"calcTotals\\\":{\\\"aggregation\\\":\\\"SUM\\\"},\\\"calcSubTotals\\\":{\\\"aggregation\\\":\\\"SUM\\\"},\\\"totalSort\\\":\\\"none\\\",\\\"totalSortField\\\":\\\"\\\"}}}\",\"customFilter\":\"[]\",\"customStyle\":\"{\\\"text\\\":{\\\"show\\\":true,\\\"fontSize\\\":\\\"18\\\",\\\"color\\\":\\\"#000000\\\",\\\"hPosition\\\":\\\"left\\\",\\\"vPosition\\\":\\\"top\\\",\\\"isItalic\\\":false,\\\"isBolder\\\":true,\\\"remarkShow\\\":false,\\\"remark\\\":\\\"\\\",\\\"remarkBackgroundColor\\\":\\\"#ffffffff\\\",\\\"fontFamily\\\":\\\"Microsoft YaHei\\\",\\\"letterSpace\\\":\\\"0\\\",\\\"fontShadow\\\":false},\\\"legend\\\":{\\\"show\\\":true,\\\"hPosition\\\":\\\"center\\\",\\\"vPosition\\\":\\\"bottom\\\",\\\"orient\\\":\\\"horizontal\\\",\\\"icon\\\":\\\"circle\\\",\\\"textStyle\\\":{\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":\\\"12\\\"}},\\\"xAxis\\\":{\\\"show\\\":true,\\\"position\\\":\\\"bottom\\\",\\\"name\\\":\\\"\\\",\\\"nameTextStyle\\\":{\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":12},\\\"axisLabel\\\":{\\\"show\\\":true,\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":\\\"12\\\",\\\"rotate\\\":0,\\\"formatter\\\":\\\"{value}\\\"},\\\"axisLine\\\":{\\\"show\\\":true,\\\"lineStyle\\\":{\\\"color\\\":\\\"#cccccc\\\",\\\"width\\\":1,\\\"style\\\":\\\"solid\\\"}},\\\"splitLine\\\":{\\\"show\\\":false,\\\"lineStyle\\\":{\\\"color\\\":\\\"#CCCCCC\\\",\\\"width\\\":1,\\\"style\\\":\\\"solid\\\"}},\\\"axisValue\\\":{\\\"auto\\\":true,\\\"min\\\":null,\\\"max\\\":null,\\\"split\\\":null,\\\"splitCount\\\":null},\\\"axisLabelFormatter\\\":{\\\"type\\\":\\\"auto\\\",\\\"unit\\\":1,\\\"suffix\\\":\\\"\\\",\\\"decimalCount\\\":2,\\\"thousandSeparator\\\":true}},\\\"yAxis\\\":{\\\"show\\\":true,\\\"position\\\":\\\"left\\\",\\\"name\\\":\\\"\\\",\\\"nameTextStyle\\\":{\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":12},\\\"axisLabel\\\":{\\\"show\\\":true,\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":\\\"12\\\",\\\"rotate\\\":0,\\\"formatter\\\":\\\"{value}\\\"},\\\"axisLine\\\":{\\\"show\\\":false,\\\"lineStyle\\\":{\\\"color\\\":\\\"#cccccc\\\",\\\"width\\\":1,\\\"style\\\":\\\"solid\\\"}},\\\"splitLine\\\":{\\\"show\\\":true,\\\"lineStyle\\\":{\\\"color\\\":\\\"#CCCCCC\\\",\\\"width\\\":1,\\\"style\\\":\\\"solid\\\"}},\\\"axisValue\\\":{\\\"auto\\\":true,\\\"min\\\":null,\\\"max\\\":null,\\\"split\\\":null,\\\"splitCount\\\":null},\\\"axisLabelFormatter\\\":{\\\"type\\\":\\\"auto\\\",\\\"unit\\\":1,\\\"suffix\\\":\\\"\\\",\\\"decimalCount\\\":2,\\\"thousandSeparator\\\":true}},\\\"yAxisExt\\\":{\\\"show\\\":true,\\\"position\\\":\\\"right\\\",\\\"name\\\":\\\"\\\",\\\"nameTextStyle\\\":{\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":12},\\\"axisLabel\\\":{\\\"show\\\":true,\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":\\\"12\\\",\\\"rotate\\\":0,\\\"formatter\\\":\\\"{value}\\\"},\\\"axisLine\\\":{\\\"show\\\":false,\\\"lineStyle\\\":{\\\"color\\\":\\\"#cccccc\\\",\\\"width\\\":1,\\\"style\\\":\\\"solid\\\"}},\\\"splitLine\\\":{\\\"show\\\":true,\\\"lineStyle\\\":{\\\"color\\\":\\\"#CCCCCC\\\",\\\"width\\\":1,\\\"style\\\":\\\"solid\\\"}},\\\"axisValue\\\":{\\\"auto\\\":true,\\\"min\\\":null,\\\"max\\\":null,\\\"split\\\":null,\\\"splitCount\\\":null},\\\"axisLabelFormatter\\\":{\\\"type\\\":\\\"auto\\\",\\\"unit\\\":1,\\\"suffix\\\":\\\"\\\",\\\"decimalCount\\\":2,\\\"thousandSeparator\\\":true}},\\\"split\\\":{\\\"name\\\":{\\\"show\\\":true,\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":\\\"12\\\"},\\\"splitNumber\\\":5,\\\"axisLine\\\":{\\\"show\\\":true,\\\"lineStyle\\\":{\\\"color\\\":\\\"#CCCCCC\\\",\\\"width\\\":1,\\\"type\\\":\\\"solid\\\"}},\\\"axisTick\\\":{\\\"show\\\":false,\\\"length\\\":5,\\\"lineStyle\\\":{\\\"color\\\":\\\"#000000\\\",\\\"width\\\":1,\\\"type\\\":\\\"solid\\\"}},\\\"axisLabel\\\":{\\\"show\\\":false,\\\"rotate\\\":0,\\\"margin\\\":8,\\\"color\\\":\\\"#000000\\\",\\\"fontSize\\\":\\\"12\\\",\\\"formatter\\\":\\\"{value}\\\"},\\\"splitLine\\\":{\\\"show\\\":true,\\\"lineStyle\\\":{\\\"color\\\":\\\"#CCCCCC\\\",\\\"width\\\":1,\\\"type\\\":\\\"solid\\\"}},\\\"splitArea\\\":{\\\"show\\\":true}}}\",\"dataFrom\":\"dataset\",\"datasetMode\":0,\"datasourceType\":\"trino\",\"drill\":false,\"drillFields\":\"[]\",\"extBubble\":\"[]\",\"extStack\":\"[{\\\"id\\\":\\\"b3800742-a7ac-4dbd-b9d7-72400b3894d8\\\",\\\"tableId\\\":\\\"a2f380de-dd0f-44e6-a8d3-238e5264e3ae\\\",\\\"originName\\\":\\\"table_schema\\\",\\\"name\\\":\\\"table_schema\\\",\\\"dataeaseName\\\":\\\"C_ea0a7d2486b04f3637466a0dcc5654ef\\\",\\\"groupType\\\":\\\"d\\\",\\\"type\\\":\\\"varchar\\\",\\\"size\\\":2147483647,\\\"deType\\\":0,\\\"deTypeFormat\\\":null,\\\"deExtractType\\\":0,\\\"extField\\\":0,\\\"checked\\\":true,\\\"columnIndex\\\":1,\\\"lastSyncTime\\\":1701165294530,\\\"accuracy\\\":0,\\\"dateFormat\\\":null,\\\"dateFormatType\\\":null,\\\"disabled\\\":true,\\\"formatterCfg\\\":{\\\"type\\\":\\\"auto\\\",\\\"unit\\\":1,\\\"suffix\\\":\\\"\\\",\\\"decimalCount\\\":2,\\\"thousandSeparator\\\":true},\\\"dateStyle\\\":\\\"y_M_d\\\",\\\"datePattern\\\":\\\"date_sub\\\",\\\"sort\\\":\\\"none\\\",\\\"filter\\\":[]}]\",\"id\":\"211dee5a-74b6-4211-afb6-6a44faa527dd\",\"isPlugin\":false,\"name\":\"新建视图2\",\"refreshTime\":5,\"refreshUnit\":\"minute\",\"refreshViewEnable\":false,\"render\":\"antv\",\"resultCount\":1000,\"resultMode\":\"custom\",\"sceneId\":\"ada74cb8-8dba-11ee-b551-336d8290e3fb\",\"senior\":\"{\\\"functionCfg\\\":{\\\"sliderShow\\\":false,\\\"sliderRange\\\":[0,10],\\\"sliderBg\\\":\\\"#FFFFFF\\\",\\\"sliderFillBg\\\":\\\"#BCD6F1\\\",\\\"sliderTextClolor\\\":\\\"#999999\\\",\\\"emptyDataStrategy\\\":\\\"breakLine\\\",\\\"emptyDataFieldCtrl\\\":[]},\\\"assistLine\\\":[],\\\"threshold\\\":{}}\",\"stylePriority\":\"view\",\"tableId\":\"f1d128c0-99a3-483d-94ce-52678a2bb54d\",\"title\":\"新建视图2\",\"totalItems\":0,\"totalPage\":0,\"type\":\"area\",\"updateTime\":1701240893347,\"viewFields\":\"[]\",\"xAxis\":\"[{\\\"id\\\":\\\"fb47dcd2-172f-4ac4-a543-0d07a37ad765\\\",\\\"tableId\\\":\\\"f1d128c0-99a3-483d-94ce-52678a2bb54d\\\",\\\"originName\\\":\\\"created_time\\\",\\\"name\\\":\\\"created_time\\\",\\\"dataeaseName\\\":\\\"C_bb5855f0349346ae0b19eb381f00ab70\\\",\\\"groupType\\\":\\\"d\\\",\\\"type\\\":\\\"timestamp(0)\\\",\\\"size\\\":23,\\\"deType\\\":1,\\\"deTypeFormat\\\":null,\\\"deExtractType\\\":1,\\\"extField\\\":0,\\\"checked\\\":true,\\\"columnIndex\\\":13,\\\"lastSyncTime\\\":1701240862598,\\\"accuracy\\\":0,\\\"dateFormat\\\":null,\\\"dateFormatType\\\":null,\\\"sort\\\":\\\"none\\\",\\\"formatterCfg\\\":{\\\"type\\\":\\\"auto\\\",\\\"unit\\\":1,\\\"suffix\\\":\\\"\\\",\\\"decimalCount\\\":2,\\\"thousandSeparator\\\":true},\\\"dateStyle\\\":\\\"y_M_d\\\",\\\"datePattern\\\":\\\"date_sub\\\",\\\"filter\\\":[]}]\",\"xAxisExt\":\"[]\",\"yAxis\":\"[{\\\"id\\\":\\\"59ed327c-be1a-4203-94d4-e63440d67868\\\",\\\"tableId\\\":\\\"f1d128c0-99a3-483d-94ce-52678a2bb54d\\\",\\\"originName\\\":\\\"pv\\\",\\\"name\\\":\\\"pv\\\",\\\"dataeaseName\\\":\\\"C_99bea2cd698b56b1a3b8c1701bd51c67\\\",\\\"groupType\\\":\\\"q\\\",\\\"type\\\":\\\"integer\\\",\\\"size\\\":11,\\\"deType\\\":2,\\\"deTypeFormat\\\":null,\\\"deExtractType\\\":2,\\\"extField\\\":0,\\\"checked\\\":true,\\\"columnIndex\\\":1,\\\"lastSyncTime\\\":1701240862598,\\\"accuracy\\\":0,\\\"dateFormat\\\":null,\\\"dateFormatType\\\":null,\\\"sort\\\":\\\"none\\\",\\\"compareCalc\\\":{\\\"type\\\":\\\"none\\\",\\\"resultData\\\":\\\"percent\\\",\\\"field\\\":\\\"\\\",\\\"custom\\\":{\\\"field\\\":\\\"\\\",\\\"calcType\\\":\\\"0\\\",\\\"timeType\\\":\\\"0\\\",\\\"currentTime\\\":\\\"\\\",\\\"compareTime\\\":\\\"\\\",\\\"currentTimeRange\\\":[],\\\"compareTimeRange\\\":[]}},\\\"formatterCfg\\\":{\\\"type\\\":\\\"auto\\\",\\\"unit\\\":1,\\\"suffix\\\":\\\"\\\",\\\"decimalCount\\\":2,\\\"thousandSeparator\\\":true},\\\"chartType\\\":\\\"bar\\\",\\\"summary\\\":\\\"sum\\\",\\\"filter\\\":[]}]\",\"yAxisExt\":\"[]\"}";
//
//        try {
//            String res = queryProvider.getSQL("t_zhihu_article", JSONObject.parseArray(xAxis, ChartViewFieldDTO.class), JSONObject.parseArray(yAxis, ChartViewFieldDTO.class),
//                    null, null, JSONObject.parseArray(extFilterList, ChartExtFilterRequest.class), JSONObject.parseObject(ds, Datasource.class),
//                    JSONObject.parseObject(view, ChartViewWithBLOBs.class));
//
//            System.out.println(res);
//        } catch (Exception exception) {
//            System.out.println("");
//        }
    }
}
